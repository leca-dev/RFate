<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FATE tutorial 0 - Modelling framework • RFate</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="FATE tutorial 0 - Modelling framework">
<meta property="og:description" content="RFate">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">RFate</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fab fa-pagelines"></span>
     
    FATE
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="divider">
    <li>
      <a href="../articles/fate_tutorial_0_publications.html">Publications</a>
    </li>
    <li>
      <a href="../articles/fate_tutorial_0_modelling_framework.html">Modelling framework</a>
    </li>
    <li class="divider">
    <li>
      <a href="../articles/fate_tutorial_1_PFG.html">a. Principle of PFG</a>
    </li>
    <li>
      <a href="../articles/fate_tutorial_2_RUN_SIMULATION.html">b. Run a FATE simulation</a>
    </li>
    <li>
      <a href="../articles/fate_tutorial_3_MODULES.html">c. Use a FATE module</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa-toolbox"></span>
     
    RFate
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="divider">
    <li>
      <a href="../articles/rfate_tutorial_1_PFG.html">
        <span class="fas fa-battery-quarter"></span>
         
        Build PFG
      </a>
    </li>
    <li>
      <a href="../articles/rfate_tutorial_2_params.html">
        <span class="fas fa-battery-half"></span>
         
        Build parameter files
      </a>
    </li>
    <li>
      <a href="../articles/rfate_tutorial_3_graphics.html">
        <span class="fas fa-battery-three-quarters"></span>
         
        Build graphics
      </a>
    </li>
    <li class="divider">
  </ul>
</li>
<li>
  <a href="../articles/interface_tutorial_0_presentation.html">
    <span class="fas fa-desktop"></span>
     
    SHINY interface
  </a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fas fa-book fa-lg"></span>
     
    Reference
  </a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="../articles/manual.html">
    <span class="fas fa-stethoscope"></span>
     
    Manual &amp; Examples
  </a>
</li>
<li>
  <a href="../articles/news.html">
    <span class="far fa-newspaper"></span>
     
    News
  </a>
</li>
<li>
  <a href="https://github.com/leca-dev/RFate.git">
    <span class="fab fa-github"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="fate_tutorial_0_modelling_framework_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>FATE tutorial 0 - Modelling framework</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/leca-dev/RFate.git/blob/master/vignettes/fate_tutorial_0_modelling_framework.Rmd"><code>vignettes/fate_tutorial_0_modelling_framework.Rmd</code></a></small>
      <div class="hidden name"><code>fate_tutorial_0_modelling_framework.Rmd</code></div>

    </div>

    
    
<style>
<!-- .zoom { -->
<!-- height:600px; -->
<!-- } -->
<!-- .zoom p { -->
<!-- text-align:center; -->
<!-- } -->
<!-- .zoom img { -->
<!-- width:600px; -->
<!-- } -->
<!-- .zoom img:hover { -->
<!-- width:1200px; -->
<!-- } -->

.zoom p {
width:600px;
margin-left: auto;
margin-right: auto;
}
.zoom p:hover {
width:1200px;
}
</style>
<div style="text-align:center;">
See <a href="papers/Boulangeat_2014_Global_Change_Biology.pdf" title="Boulangeat, I., Georges, D., Thuiller, W., FATE-HD: A spatially and temporally explicit integrated model for predicting vegetation structure and diversity at regional scale. Global Change Biology, 20, 2368–2378.">Boulangeat, 2014</a> or the <a href="fate_tutorial_0_publications.html">Publications</a> page
</div>
<p><br><br></p>
<div id="conceptual-diagram" class="section level2">
<h2 class="hasAnchor">
<a href="#conceptual-diagram" class="anchor"></a><i class="fas fa-boxes"></i> Conceptual diagram</h2>
<p>The whole area is divided in grid-cells in which an independent <strong>demographic model</strong> regulates the PFG life cycle. PFG abundances are structured by age into cohorts and each cohort is attributed to a height stratum according to the growth parameters.</p>
<p>Different submodels affect this cycle at various levels :</p>
<ul>
<li><p><strong>Interaction through <i class="fas fa-sun"></i> light and/or <i class="fas fa-recycle"></i> soil resources</strong> regulates interactions between cohorts affecting germination, recruitment and survival.</p></li>
<li><p><strong><i class="fas fa-globe"></i> Habitat suitability</strong> affects the recruitment and fecundity rates.</p></li>
<li><p><strong><i class="fas fa-seedling"></i> The seed dispersal model</strong> makes <code>FATE</code> spatially explicit by connecting grid-cells.<br>
It depends on the amount of seeds produced by mature plants and affects each PFG’s seed bank in each cell.</p></li>
<li><p><strong><i class="fas fa-bolt"></i> Disturbances</strong> affect PFG survival and fecundity.</p></li>
</ul>
<p><br></p>
<!-- <div style="text-align:center;"> -->
<!-- <img src="C:/Users/gueguen/Documents/PACKAGES/leca-dev/RFate/vignettes/pictures/SCHEMA_FATE_successionCycle_00.png" alt="SCHEMA FATE successionCycle 0" style="width:1000px;"></img> -->
<!-- </div> -->
<div class="zoom">
<p>
<img src="pictures/SCHEMA_FATE_successionCycle_00.png" alt="SCHEMA FATE successionCycle 0"></p>
</div>
<p><br><br></p>
</div>
<div id="life-cycle-of-each-pfg-and-influences-from-sub-models" class="section level2">
<h2 class="hasAnchor">
<a href="#life-cycle-of-each-pfg-and-influences-from-sub-models" class="anchor"></a><i class="fas fa-recycle"></i> Life cycle of each PFG and influences from sub-models</h2>
<p>Only three age classes are considered : <strong>germinant</strong>, <strong>juvenile</strong> and <strong>mature</strong>.</p>
<ul>
<li>The <strong>recruitment</strong> is influenced by the habitat suitability and the biotic interactions.</li>
<li>
<strong>Mortality</strong> occurs when light or soil conditions are not favorable or when the PFG completes its life span.</li>
<li>In addition, the disturbance regime directly affects juvenile or mature PFG and may for instance result in PFG death, impede <strong>seed production</strong> by reducing mature PFG age to N-1, or <strong>revitalize senescents</strong> by reducing their age to M-1.</li>
</ul>
<br><div class="zoom">
<p>
<img src="pictures/SCHEMA_FATE_successionCycle_1.png" alt="SCHEMA FATE successionCycle 1"></p>
</div>
<p><br></p>
<p>The timestep is at the year level : seasonality is not included within each timestep, but communities go through 4 states :</p>
<ol style="list-style-type: decimal">
<li>
<strong>Check of survival</strong> : what are the pixel resources (in terms of light and soil) of the previous year, and can the PFG stand them ?</li>
<li>All PFG <strong>grow one-year older</strong>, and too old PFG die.</li>
<li>
<strong>New pixel resources</strong> (in terms of light and soil) are calculated with the actual community, as well as the <strong>seeds produced</strong>. <strong>Recruitment</strong> of new individuals from the previous pool of seeds occurs.</li>
<li>If some perturbations are defined, community is impacted in function of the <strong>PFG responses to the disturbance(s)</strong>.</li>
</ol>
<div class="zoom">
<p>
<img src="pictures/SCHEMA_FATE_successionCycle_2.png" alt="SCHEMA FATE successionCycle 2"></p>
</div>
<!-- <img src="C:/Users/gueguen/Documents/PACKAGES/leca-dev/RFate/vignettes/pictures/SCHEMA_FATE_successionCycle_1.png" alt="SCHEMA FATE successionCycle 1" style="width:1200px;"></img> -->
<!-- <img src="C:/Users/gueguen/Documents/PACKAGES/leca-dev/RFate/vignettes/pictures/SCHEMA_FATE_successionCycle_2.png" alt="SCHEMA FATE successionCycle 2" style="width:1200px;"></img> -->
<p><br><br></p>
</div>
<div id="calculation-of-pixel-resources" class="section level2">
<h2 class="hasAnchor">
<a href="#calculation-of-pixel-resources" class="anchor"></a><i class="fas fa-sliders-h"></i> Calculation of pixel resources</h2>
<p><br></p>
<p>Light and soil resources are <strong>proportional to the abundance of the PFG community</strong> of the pixel. They are both converted into <strong>qualitative classes</strong> (<code>Low</code>, <code>Medium</code> or <code>High</code>), for each <strong>height stratum</strong> (concerning light) and for each <strong>PFG</strong> (according to its tolerance, regarding soil). The response of each PFG to each resource level is defined <strong>in function of age</strong> (<code>Germinant</code>, <code>Immature</code> and <code>Mature</code>), in a semi-binary way for light (<em>bottom right</em>), and in a more quantitative way for soil (<em>bottom left</em>).</p>
<p><br></p>
<div style="text-align:center;">
<embed src="pictures/SCHEMA_FATE_interaction_PDF.pdf" width="700" height="700" allowfullscreen webkitallowfullscreen></embed>
</div>
<p><br><br></p>
</div>
<div id="structural-equations" class="section level2">
<h2 class="hasAnchor">
<a href="#structural-equations" class="anchor"></a><i class="fas fa-square-root-alt"></i> Structural equations</h2>
<p><br></p>
<div class="zoom">
<p>
<img src="pictures/SCHEMA_FATE_successionCycle_3.png" alt="SCHEMA FATE successionCycle 3"></p>
</div>
<p><br></p>
<hr>
<p><strong>Influence of environment (habitat suitability) :</strong></p>
<ul>
<li>
<strong>getEnv…() functions</strong> :<br>
All the <span class="math inline">\(\text{getEnv}...()\)</span> functions represent the influence of the habitat suitability if the module is selected (see <code>DO_HABITAT_SUITABILITY</code> parameter in <a href="./../reference/PRE_FATE.params_globalParameters.html">GlobalParameter</a> file).<br>
They can have effect on different processes, such as mortality, recruitment or fecundity, depending on whether the habitat within the pixel is suitable or not for the considered PFG.</li>
</ul>
<p><br></p>
<ul>
<li>
<p><strong>Is the habitat suitable ?</strong> :<br>
Each year (timestep), the values contained in each PFG habitat suitability maps will be compared to a reference value :</p>
<ul>
<li>if superior, the environment is considered suitable for the PFG (hence <span class="math inline">\(\text{getEnv}...()\)</span> functions will return <code>1</code>)</li>
<li>otherwise, the environment is considered unsuitable for the PFG (hence <span class="math inline">\(\text{getEnv}...()\)</span> functions will return <code>0</code>)</li>
</ul>
</li>
</ul>
<p>Depending on the parameterisation chosen, (see <code>HABSUIT_OPTION</code> parameter in <a href="./../reference/PRE_FATE.params_globalParameters.html">GlobalParameter</a> file), the reference value can be set in two different ways.</p>
<p><br></p>
<hr>
<p><strong>Lifespan &amp; maturity :</strong></p>
<ul>
<li>
<strong>Lifespan</strong> :<br>
In theory, the lifetime of a species could be influenced by the environment, but this is currently not the case.<br>
Hence, habitat or not, <span class="math inline">\(\text{getEnvMort}() = 1\)</span>.</li>
</ul>
<p><span class="math display">\[\text{LifeSpan} * \text{getEnvMort}()\]</span> <br></p>
<ul>
<li>
<strong>Maturity time</strong> :<br>
The time from which a PFG is able to produce seeds can also be influenced by its habitat, in a negative way :</li>
</ul>
<p><span class="math display">\[\begin{align}
\text{maturityTime} &amp;= (\text{LifeSpan} - \text{Maturity}) * (1.0 - \text{getEnvGrowth}()) + \text{Maturity} \\
\text{maturityTime} &amp;= ceil(\text{maturityTime})
\end{align}\]</span></p>
<p>If <code>DO_HABITAT_SUITABILITY</code> model is NOT selected, or the habitat is suitable, then <span class="math inline">\(\text{maturityTime} = \text{Maturity}\)</span>.<br>
Otherwise, it the habitat is NOT suitable, <span class="math inline">\(\text{maturityTime} = \text{LifeSpan}\)</span>, which means there will be no fecundity, and then no seeds produced.</p>
<p><br></p>
<hr>
<p><strong>Carrying capacity (mature vs immature) :</strong></p>
<ul>
<li>
<strong>Immature</strong> :<br>
Depending on the PFG life-form (herbaceous, chamaephytes, phanerophytes), immature individuals may no take as much space as mature individuals (e.g. young tree vs old tree). Hence, when calculating total abundance of plants, which is used as a proxy of space occupation, abundance of immature individuals is weighted by their relative size compare to mature individuals : <span class="math inline">\(\text{ImmSize}\)</span> (see <code>IMM_SIZE</code> parameter in <a href="./../reference/PRE_FATE.params_PFGsuccession.html">Succession</a> files).</li>
</ul>
<p><br></p>
<ul>
<li>
<strong>Mature - Global carrying capacity</strong> :<br><span class="math inline">\(\text{MaxAbund} \in {1,2,3}\)</span> defines the maximum abundance that can be reached by a mature PFG. It should be inversely proportional to the space that the PFG can occupy, with taller PFG generally having fewer individuals than for example herbaceous within the same space (see <code>MAX_ABUNDANCE</code> parameter in <a href="./../reference/PRE_FATE.params_PFGsuccession.html">Succession</a> files). It is converted to abundance-related values when contributing to structural equations (see <code>MAX_ABUND_{...}</code> parameters in <a href="./../reference/PRE_FATE.params_globalParameters.html">GlobalParameter</a> file).</li>
</ul>
<p><br></p>
<hr>
<p><strong>Germination :</strong></p>
<ul>
<li>
<strong>Condition on carrying capacity</strong> :<br>
A condition is set to help regulate populations : new individuals only grow if there is not yet too many individuals within the pixel, i.e. if the total abundance of the PFG does not exceed its global carrying capacity :</li>
</ul>
<p><span class="math display">\[\begin{align}
\text{totAbund} &amp;= \text{AbundMature} &amp;+ \text{AbundImmature} * \text{ImmSize} \\
\text{globalCC} &amp;= \text{MaxAbund} &amp;+ \text{MaxAbund} * \text{ImmSize}\\
&amp;\text{if (totAbund} &lt; \text{globalCC)} \\
&amp;\{ \\
&amp; ... \\
&amp;\}
\end{align}\]</span></p>
<p><br></p>
<ul>
<li>
<strong>Condition on pixel resources</strong> :<br><span class="math inline">\(MaxRecruit\)</span> corresponds to percentage of seeds that will germinate depending on the pixel resources (light, soil) in stratum 0 (which represents the enforced dormancy) (see <code>ACTIVE_GERM</code> parameter in <a href="./../reference/PRE_FATE.params_PFGlight.html">Light</a> and <a href="./../reference/PRE_FATE.params_PFGsoil.html">Soil</a> files).<br>
The number of germinating seeds is obtained by weighting the number of available seeds by this germination rate.<br>
If the module is selected (see <code>DO_HABITAT_SUITABILITY</code> parameter in <a href="./../reference/PRE_FATE.params_globalParameters.html">GlobalParameter</a> file), the habitat must be suitable, otherwise the recruitment will be null.</li>
</ul>
<p><span class="math display">\[\begin{align}
\text{RecruitmentRate} &amp;= \text{GerminationRate} &amp;* \text{ getEnvRecrRate}() \\
 &amp;= \text{AvailSeeds} * \text{MaxRecruitment} &amp;* \text{ getEnvRecrRate}() 
\end{align}\]</span></p>
<p><br></p>
<hr>
<p><strong>Fecundity :</strong></p>
<ul>
<li>
<strong>Potential fecundity</strong> :<br>
Each PFG can produce a fixed maximum amount of seeds in optimal conditions (see <code>POTENTIAL_FECUNDITY</code> parameter in <a href="./../reference/PRE_FATE.params_PFGsuccession.html">Succession</a> files). Due to lack of empirical data, this amount is often set at the same value for all PFG.</li>
</ul>
<p><br></p>
<ul>
<li>
<strong>Produced seeds</strong> :<br>
At each time step, the number of seeds that will be produced by a PFG depends both on the number of mature individuals of this PFG within the considered pixel, and on the suitability of the pixel if the module is selected (see <code>DO_HABITAT_SUITABILITY</code> parameter in <a href="./../reference/PRE_FATE.params_globalParameters.html">GlobalParameter</a> file) (no seeds produced if the habitat is not suitable) :</li>
</ul>
<p><span class="math display">\[\text{Fecundity} = min(1, \frac{\text{AbundMature}}{\text{MaxAbund}}) * \text{PotentialFecund} * \text{getEnvFecund}()\]</span></p>
<p>If <span class="math inline">\(\frac{\text{AbundMature}}{\text{MaxAbund}} \geqslant 1\)</span>, the PFG has reached its annual carrying capacity : it is in optimal conditions and will produce its maximum amount of seeds (<span class="math inline">\(\text{PotentialFecund}\)</span>). Otherwise, this amount will be reduced in proportion.</p>
<p><br><br></p>
<hr>
<p><strong>ANNUAL SEED CYCLE :</strong> (<em>combining all previous information</em>)</p>
<p>Germination occurs depending on the current abundance of the PFG inside the pixel : if it reaches the carrying capacity of the PFG = <span class="math inline">\(\text{MaxAbund} * (1 + \text{ImmSize})\)</span>, no seed germinates. The number of produced seeds is proportional to the current abundance of mature individuals only.</p>
<p><br></p>
<div style="text-align:center;">
<p><img src="pictures/SCHEMA_FATE_seedCycle.png" alt="SCHEMA FATE seedCycle" style="width:600px;"></p>
</div>
<p><br></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="http://www.will.chez-alice.fr/">Wilfried Thuiller</a>, Damien Georges, <a href="https://iboulangeat.github.io/">Isabelle Boulangeat</a>, <a href="https://mayagueguen.github.io">Maya Guéguen</a>, Guillaume Dupouy.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
